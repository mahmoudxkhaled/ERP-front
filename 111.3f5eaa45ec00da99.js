"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[111],{1111:(ze,S,c)=>{c.r(S),c.d(S,{HumanResourcesModule:()=>We});var w=c(5836),a=c(9417),m=c(5779),e=c(4438),g=c(5763),d=c(6899),u=c(1141),j=c(8150),N=c(1305),F=c(6781),_=c(9998),D=c(7480),G=c(612),h=c(177),f=c(563),b=c(2242),x=c(491),C=c(5144),v=c(935),T=c(5639),y=c(3631);const V=()=>[10,25,50],J=()=>["project","task","status"],E=()=>({width:"600px"}),M=()=>({width:"450px"});function B(o,r){1&o&&e.nrm(0,"app-table-loading-spinner")}function $(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",30)(1,"span",31),e.nrm(2,"i",32),e.j41(3,"input",33),e.bIt("input",function(n){e.eBV(t);const l=e.XpG(),p=e.sdS(38);return e.Njj(l.onGlobalFilter(p,n))}),e.k0s()(),e.j41(4,"p-button",34),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToCreate())}),e.k0s()()}}function U(o,r){1&o&&(e.j41(0,"tr")(1,"th",35),e.EFF(2," Date"),e.nrm(3,"p-sortIcon",36),e.k0s(),e.j41(4,"th",37),e.EFF(5," Project"),e.nrm(6,"p-sortIcon",38),e.k0s(),e.j41(7,"th",39),e.EFF(8," Task"),e.nrm(9,"p-sortIcon",40),e.k0s(),e.j41(10,"th",41),e.EFF(11," Hours"),e.nrm(12,"p-sortIcon",42),e.k0s(),e.j41(13,"th",43),e.EFF(14,"Remarks"),e.k0s(),e.j41(15,"th",44),e.EFF(16," Status"),e.nrm(17,"p-sortIcon",45),e.k0s(),e.nrm(18,"th",46),e.k0s())}function X(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(n){e.eBV(t);const l=e.XpG().$implicit,p=e.sdS(17),s=e.XpG();return p.toggle(n),e.Njj(s.assigneCurrentSelect(l))}),e.k0s()}}function Y(o,r){if(1&o&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"date"),e.k0s(),e.j41(4,"td"),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.nrm(13,"p-tag",47),e.k0s(),e.j41(14,"td"),e.DNE(15,X,1,0,"button",48),e.nrm(16,"p-menu",49,1),e.k0s()()),2&o){const t=r.$implicit,i=e.XpG();e.R7$(2),e.JRh(e.i5U(3,11,t.date,"yyyy-MM-dd")),e.R7$(3),e.JRh(t.project),e.R7$(2),e.JRh(t.task),e.R7$(2),e.SpI("",t.hours,"h"),e.R7$(2),e.JRh(t.remarks),e.R7$(2),e.Y8G("value",t.status)("severity",i.getStatusSeverity(t.status)),e.R7$(2),e.Y8G("ngIf",i.menuItems.length>0),e.R7$(),e.Y8G("model",i.menuItems)("appendTo","body")("popup",!0)}}function L(o,r){if(1&o){const t=e.RV6();e.j41(0,"form",51),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.j41(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",55)(5,"label",56),e.EFF(6,"Date"),e.k0s(),e.nrm(7,"p-calendar",57),e.k0s(),e.j41(8,"div",55)(9,"label",58),e.EFF(10,"Project"),e.k0s(),e.nrm(11,"p-dropdown",59),e.k0s(),e.j41(12,"div",60)(13,"label",61),e.EFF(14,"Task"),e.k0s(),e.nrm(15,"input",62),e.k0s(),e.j41(16,"div",55)(17,"label",63),e.EFF(18,"Hours"),e.k0s(),e.nrm(19,"p-inputNumber",64),e.k0s(),e.j41(20,"div",60)(21,"label",65),e.EFF(22,"Remarks"),e.k0s(),e.j41(23,"textarea",66),e.EFF(24,"                            "),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.Y8G("formGroup",t.timesheetAddForm),e.R7$(11),e.Y8G("options",t.projectOptions),e.R7$(8),e.Y8G("min",0)("step",.25)}}function H(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",67),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(1,"button",68),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSubmit())}),e.k0s()}}function W(o,r){if(1&o){const t=e.RV6();e.j41(0,"form",51),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.edit())}),e.j41(1,"div",52)(2,"div",53)(3,"div",54)(4,"div",55)(5,"label",69),e.EFF(6,"Date"),e.k0s(),e.nrm(7,"p-calendar",70),e.k0s(),e.j41(8,"div",55)(9,"label",71),e.EFF(10,"Project"),e.k0s(),e.nrm(11,"p-dropdown",72),e.k0s(),e.j41(12,"div",60)(13,"label",73),e.EFF(14,"Task"),e.k0s(),e.nrm(15,"input",74),e.k0s(),e.j41(16,"div",55)(17,"label",75),e.EFF(18,"Hours"),e.k0s(),e.nrm(19,"p-inputNumber",76),e.k0s(),e.j41(20,"div",60)(21,"label",77),e.EFF(22,"Remarks"),e.k0s(),e.j41(23,"textarea",78),e.EFF(24,"                            "),e.k0s()()()()()()}if(2&o){const t=e.XpG();e.Y8G("formGroup",t.timesheetEditForm),e.R7$(11),e.Y8G("options",t.projectOptions),e.R7$(8),e.Y8G("min",0)("step",.25)}}function z(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",67),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideDialog())}),e.k0s(),e.j41(1,"button",79),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.edit())}),e.k0s()}}function Z(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete this timesheet entry?"),e.k0s())}function K(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",80),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteDialog=!1)}),e.k0s(),e.j41(1,"button",81),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.delete())}),e.k0s()}}function Q(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",82)(1,"label",83),e.EFF(2,"New Status"),e.k0s(),e.j41(3,"p-dropdown",84),e.mxI("ngModelChange",function(n){e.eBV(t);const l=e.XpG();return e.DH7(l.selectedStatus,n)||(l.selectedStatus=n),e.Njj(n)}),e.k0s()()}if(2&o){const t=e.XpG();e.R7$(3),e.Y8G("options",t.statusOptions),e.R50("ngModel",t.selectedStatus)}}function q(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",80),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.statusDialog=!1)}),e.k0s(),e.j41(1,"button",85),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.changeStatus(n.selectedStatus))}),e.k0s()}}let ee=(()=>{class o{constructor(t,i){this.translate=t,this.messageService=i,this.timesheets=[],this.menuItems=[],this.currentSelected={id:"",date:new Date,project:"",task:"",hours:0,remarks:"",status:""},this.deleteDialog=!1,this.editDialog=!1,this.addDialog=!1,this.statusDialog=!1,this.tableLoadingSpinner=!1,this.selectedStatus="",this.projectOptions=[{label:"ERP System",value:"ERP System"},{label:"HR Portal",value:"HR Portal"},{label:"Invoicing",value:"Invoicing"},{label:"Document Control",value:"Document Control"}],this.statusOptions=[{label:"Draft",value:"Draft"},{label:"Pending",value:"Pending"},{label:"Approved",value:"Approved"},{label:"Rejected",value:"Rejected"}]}ngOnInit(){this.menuItems=[];const t={label:this.translate.getInstant("shared.actions.edit"),icon:"pi pi-fw pi-pencil",command:()=>this.openEditDialog(this.currentSelected)},i={label:this.translate.getInstant("shared.actions.delete"),icon:"pi pi-fw pi-trash",command:()=>this.openDeleteDialog(this.currentSelected)},n={label:"Change Status",icon:"pi pi-fw pi-refresh",command:()=>this.openStatusDialog(this.currentSelected)};this.menuItems.push(t),this.menuItems.push(i),this.menuItems.push(n),this.initiateAddForm(),this.initiateEditForm(),this.loadTimesheets()}assigneCurrentSelect(t){this.currentSelected=t}loadTimesheets(){this.tableLoadingSpinner=!0,this.timesheets=[{id:"1",date:new Date("2025-01-15"),project:"ERP System",task:"Login Module",hours:4,remarks:"Completed login wireframe",status:"Draft"},{id:"2",date:new Date("2025-01-14"),project:"ERP System",task:"Dashboard UI",hours:6,remarks:"Created dashboard layout",status:"Pending"},{id:"3",date:new Date("2025-01-13"),project:"ERP System",task:"Admin Panel",hours:5,remarks:"User management interface",status:"Approved"},{id:"4",date:new Date("2025-01-12"),project:"ERP System",task:"API Integration",hours:3,remarks:"REST API setup",status:"Rejected"},{id:"5",date:new Date("2025-01-11"),project:"HR Portal",task:"Employee Management",hours:7,remarks:"Employee CRUD operations",status:"Approved"},{id:"6",date:new Date("2025-01-10"),project:"Invoicing",task:"Invoice Generation",hours:4.5,remarks:"Invoice template creation",status:"Pending"},{id:"7",date:new Date("2025-01-09"),project:"Document Control",task:"File Upload",hours:3.5,remarks:"File upload functionality",status:"Draft"},{id:"8",date:new Date("2025-01-08"),project:"ERP System",task:"Database Design",hours:8,remarks:"Schema creation and optimization",status:"Approved"},{id:"9",date:new Date("2025-01-07"),project:"HR Portal",task:"Timesheet Module",hours:6.5,remarks:"Timesheet tracking system",status:"Pending"},{id:"10",date:new Date("2025-01-06"),project:"Invoicing",task:"Payment Processing",hours:5.5,remarks:"Payment gateway integration",status:"Rejected"},{id:"11",date:new Date("2025-01-05"),project:"Document Control",task:"Version Control",hours:4,remarks:"Document versioning system",status:"Approved"},{id:"12",date:new Date("2025-01-04"),project:"ERP System",task:"Testing",hours:3,remarks:"Unit testing for login module",status:"Draft"}],this.tableLoadingSpinner=!1}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}navigateToCreate(){this.addDialog=!0}openEditDialog(t){this.editDialog=!0,this.currentSelected=t,this.timesheetEditForm.patchValue({dateToEdit:t.date,projectToEdit:t.project,taskToEdit:t.task,hoursToEdit:t.hours,remarksToEdit:t.remarks})}openDeleteDialog(t){this.deleteDialog=!0,this.currentSelected=t}openStatusDialog(t){this.statusDialog=!0,this.currentSelected=t,this.selectedStatus=t.status}hideDialog(){this.editDialog=!1,this.addDialog=!1}onSubmit(){if(this.timesheetAddForm.valid){const t={id:(this.timesheets.length+1).toString(),date:this.timesheetAddForm.value.dateToAdd,project:this.timesheetAddForm.value.projectToAdd,task:this.timesheetAddForm.value.taskToAdd,hours:this.timesheetAddForm.value.hoursToAdd,remarks:this.timesheetAddForm.value.remarksToAdd,status:"Draft"};this.timesheets.push(t),this.addDialog=!1,this.timesheetAddForm.reset(),this.messageService.add({severity:"success",summary:"Success",detail:"Timesheet entry added successfully",life:3e3})}}edit(){if(this.timesheetEditForm.valid){const t=this.timesheets.findIndex(i=>i.id===this.currentSelected.id);-1!==t&&(this.timesheets[t]={...this.timesheets[t],date:this.timesheetEditForm.value.dateToEdit,project:this.timesheetEditForm.value.projectToEdit,task:this.timesheetEditForm.value.taskToEdit,hours:this.timesheetEditForm.value.hoursToEdit,remarks:this.timesheetEditForm.value.remarksToEdit}),this.hideDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Timesheet entry updated successfully",life:3e3})}}delete(){const t=this.timesheets.findIndex(i=>i.id===this.currentSelected.id);-1!==t&&this.timesheets.splice(t,1),this.deleteDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Timesheet entry deleted successfully",life:3e3})}changeStatus(t){const i=this.timesheets.findIndex(n=>n.id===this.currentSelected.id);-1!==i&&(this.timesheets[i].status=t),this.statusDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:`Timesheet status changed to ${t}`,life:3e3})}initiateAddForm(){this.timesheetAddForm=new a.gE({dateToAdd:new a.MJ(new Date,[a.k0.required]),projectToAdd:new a.MJ("",[a.k0.required]),taskToAdd:new a.MJ("",[a.k0.required]),hoursToAdd:new a.MJ(0,[a.k0.required,a.k0.min(0)]),remarksToAdd:new a.MJ("")})}initiateEditForm(){this.timesheetEditForm=new a.gE({dateToEdit:new a.MJ(new Date,[a.k0.required]),projectToEdit:new a.MJ("",[a.k0.required]),taskToEdit:new a.MJ("",[a.k0.required]),hoursToEdit:new a.MJ(0,[a.k0.required,a.k0.min(0)]),remarksToEdit:new a.MJ("")})}getTotalHoursThisWeek(){const t=new Date,i=new Date(t.setDate(t.getDate()-t.getDay())),n=new Date(t.setDate(t.getDate()-t.getDay()+6));return this.timesheets.filter(l=>l.date>=i&&l.date<=n).reduce((l,p)=>l+p.hours,0)}getStatusSeverity(t){switch(t){case"Approved":return"success";case"Pending":return"warning";case"Rejected":return"danger";case"Draft":return"info";default:return"secondary"}}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(g.L),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-timesheets"]],features:[e.Jv_([m.bg])],decls:56,vars:32,consts:[["dt",""],["menu",""],[1,"card"],[1,"mb-4"],[1,"text-3xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"grid","mb-4"],[1,"col-12","md:col-4"],[1,"flex","align-items-center","gap-3"],[1,"pi","pi-clock","text-4xl","text-blue-500"],[1,"text-lg","font-semibold","text-gray-700","mb-1"],[1,"text-2xl","font-bold","text-blue-600"],[1,"pi","pi-calendar","text-4xl","text-green-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"pi","pi-check-circle","text-4xl","text-orange-500"],[1,"text-2xl","font-bold","text-orange-600"],[1,"iAware-loading-table-container",2,"position","relative"],[4,"ngIf"],["responsiveLayout","scroll",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Add Timesheet Entry",1,"p-fluid",3,"visibleChange","visible","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Edit Timesheet Entry",1,"p-fluid",3,"visibleChange","visible","modal"],["header","Confirm Delete",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],["header","Change Status",3,"visibleChange","visible","modal"],[1,"flex","flex-wrap","gap-2","align-items-center","justify-content-between"],[1,"p-input-icon-left","w-full","sm:w-20rem","flex-order-1","sm:flex-order-0"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search timesheets...",1,"w-full",3,"input"],["icon","pi pi-plus","label","Add Entry",1,"p-button-outlined","w-full","sm:w-auto","flex-order-0","sm:flex-order-1",3,"onClick"],["pSortableColumn","date",1,"white-space-nowrap",2,"width","15%"],["field","date"],["pSortableColumn","project",1,"white-space-nowrap",2,"width","20%"],["field","project"],["pSortableColumn","task",1,"white-space-nowrap",2,"width","20%"],["field","task"],["pSortableColumn","hours",1,"white-space-nowrap",2,"width","10%"],["field","hours"],[2,"width","20%"],["pSortableColumn","status",1,"white-space-nowrap",2,"width","10%"],["field","status"],[1,"text-right",2,"width","5%"],[3,"value","severity"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","class","p-button-rounded p-button-text p-button-plain ml-3",3,"click",4,"ngIf"],[3,"model","appendTo","popup"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain","ml-3",3,"click"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12"],[1,"grid","formgrid","p-fluid"],[1,"field","mb-4","col-12","md:col-6"],["for","date",1,"font-medium","text-900"],["id","date","formControlName","dateToAdd","dateFormat","yy-mm-dd","placeholder","Select date",1,"w-full"],["for","project",1,"font-medium","text-900"],["id","project","formControlName","projectToAdd","optionLabel","label","optionValue","value","placeholder","Select project",1,"w-full",3,"options"],[1,"field","mb-4","col-12"],["for","task",1,"font-medium","text-900"],["id","task","type","text","pInputText","","formControlName","taskToAdd","placeholder","Enter task description",1,"w-full"],["for","hours",1,"font-medium","text-900"],["id","hours","formControlName","hoursToAdd","placeholder","0.00",1,"w-full",3,"min","step"],["for","remarks",1,"font-medium","text-900"],["id","remarks","pInputTextarea","","formControlName","remarksToAdd","placeholder","Optional notes about the work performed...","rows","3",1,"w-full"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","label","Save Entry","icon","pi pi-check",1,"p-button-text",3,"onClick"],["for","dateEdit",1,"font-medium","text-900"],["id","dateEdit","formControlName","dateToEdit","dateFormat","yy-mm-dd","placeholder","Select date",1,"w-full"],["for","projectEdit",1,"font-medium","text-900"],["id","projectEdit","formControlName","projectToEdit","optionLabel","label","optionValue","value","placeholder","Select project",1,"w-full",3,"options"],["for","taskEdit",1,"font-medium","text-900"],["id","taskEdit","type","text","pInputText","","formControlName","taskToEdit","placeholder","Enter task description",1,"w-full"],["for","hoursEdit",1,"font-medium","text-900"],["id","hoursEdit","formControlName","hoursToEdit","placeholder","0.00",1,"w-full",3,"min","step"],["for","remarksEdit",1,"font-medium","text-900"],["id","remarksEdit","pInputTextarea","","formControlName","remarksToEdit","placeholder","Optional notes about the work performed...","rows","3",1,"w-full"],["pButton","","pRipple","","label","Update Entry","icon","pi pi-check",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","icon","pi pi-times","label","Cancel",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","icon","pi pi-check","label","Delete",1,"p-button-text",3,"onClick"],[1,"field"],["for","status",1,"font-medium","text-900"],["id","status","optionLabel","label","optionValue","value","placeholder","Select new status",1,"w-full",3,"ngModelChange","options","ngModel"],["pButton","","pRipple","","icon","pi pi-check","label","Change Status",1,"p-button-text",3,"onClick"]],template:function(i,n){if(1&i){const l=e.RV6();e.j41(0,"div",2),e.nrm(1,"p-toast"),e.j41(2,"div",3)(3,"h1",4),e.EFF(4),e.k0s(),e.j41(5,"p",5),e.EFF(6,"Track and manage employee work hours"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"p-card")(10,"div",8),e.nrm(11,"i",9),e.j41(12,"div")(13,"h3",10),e.EFF(14,"Hours This Week"),e.k0s(),e.j41(15,"p",11),e.EFF(16),e.k0s()()()()(),e.j41(17,"div",7)(18,"p-card")(19,"div",8),e.nrm(20,"i",12),e.j41(21,"div")(22,"h3",10),e.EFF(23,"Days Worked"),e.k0s(),e.j41(24,"p",13),e.EFF(25,"5"),e.k0s()()()()(),e.j41(26,"div",7)(27,"p-card")(28,"div",8),e.nrm(29,"i",14),e.j41(30,"div")(31,"h3",10),e.EFF(32,"Submitted"),e.k0s(),e.j41(33,"p",15),e.EFF(34,"3"),e.k0s()()()()()(),e.j41(35,"div",16),e.DNE(36,B,1,0,"app-table-loading-spinner",17),e.j41(37,"p-table",18,0),e.DNE(39,$,5,0,"ng-template",19)(40,U,19,0,"ng-template",20)(41,Y,18,14,"ng-template",21),e.k0s()()(),e.j41(42,"p-dialog",22),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.addDialog,s)||(n.addDialog=s),e.Njj(s)}),e.DNE(43,L,25,4,"ng-template",23)(44,H,2,0,"ng-template",24),e.k0s(),e.j41(45,"p-dialog",25),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.editDialog,s)||(n.editDialog=s),e.Njj(s)}),e.DNE(46,W,25,4,"ng-template",23)(47,z,2,0,"ng-template",24),e.k0s(),e.j41(48,"p-dialog",26),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.deleteDialog,s)||(n.deleteDialog=s),e.Njj(s)}),e.j41(49,"div",27),e.nrm(50,"i",28),e.DNE(51,Z,2,0,"span",17),e.k0s(),e.DNE(52,K,2,0,"ng-template",24),e.k0s(),e.j41(53,"p-dialog",29),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.statusDialog,s)||(n.statusDialog=s),e.Njj(s)}),e.DNE(54,Q,4,2,"ng-template",23)(55,q,2,0,"ng-template",24),e.k0s()}2&i&&(e.R7$(4),e.JRh(n.translate.getInstant("dashboard.timesheets")),e.R7$(12),e.SpI("",n.getTotalHoursThisWeek(),"h"),e.R7$(20),e.Y8G("ngIf",n.tableLoadingSpinner),e.R7$(),e.Y8G("value",n.timesheets)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(26,V))("globalFilterFields",e.lJ4(27,J)),e.R7$(5),e.Aen(e.lJ4(28,E)),e.R50("visible",n.addDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(29,E)),e.R50("visible",n.editDialog),e.Y8G("modal",!0),e.R7$(3),e.Aen(e.lJ4(30,M)),e.R50("visible",n.deleteDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.currentSelected),e.R7$(2),e.Aen(e.lJ4(31,M)),e.R50("visible",n.statusDialog),e.Y8G("modal",!0))},dependencies:[m.Ei,d.XI,d.Tg,d.yc,a.qT,a.me,a.BC,a.cb,a.vS,u._f,u.$n,j.ms,N.Z,F.l,_.y8,D.YI,G.Vv,h.bT,a.j4,a.JD,f.n,b.S,x.Z,C.W1,v.v,T.ZP,y.j,h.vh]})}}return o})();const te=()=>[10,25,50],ne=()=>["employeeName","position","contractType","status"];function oe(o,r){1&o&&e.nrm(0,"app-table-loading-spinner")}function ie(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",22)(1,"span",23),e.nrm(2,"i",24),e.j41(3,"input",25),e.bIt("input",function(n){e.eBV(t);const l=e.XpG(),p=e.sdS(41);return e.Njj(l.onGlobalFilter(p,n))}),e.k0s()(),e.j41(4,"p-button",26),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToCreateContract())}),e.k0s()()}}function ae(o,r){1&o&&(e.j41(0,"tr")(1,"th",27),e.EFF(2," Employee"),e.nrm(3,"p-sortIcon",28),e.k0s(),e.j41(4,"th",29),e.EFF(5," Position"),e.nrm(6,"p-sortIcon",30),e.k0s(),e.j41(7,"th",31),e.EFF(8," Type"),e.nrm(9,"p-sortIcon",32),e.k0s(),e.j41(10,"th",33),e.EFF(11," Start Date"),e.nrm(12,"p-sortIcon",34),e.k0s(),e.j41(13,"th",35),e.EFF(14," End Date"),e.nrm(15,"p-sortIcon",36),e.k0s(),e.j41(16,"th",37),e.EFF(17," Status"),e.nrm(18,"p-sortIcon",38),e.k0s(),e.nrm(19,"th",39),e.k0s())}function se(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",44),e.bIt("click",function(n){e.eBV(t);const l=e.XpG().$implicit,p=e.sdS(16),s=e.XpG();return p.toggle(n),e.Njj(s.assignCurrentContract(l))}),e.k0s()}}function re(o,r){if(1&o&&(e.j41(0,"tr")(1,"td",40),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.nrm(12,"p-tag",41),e.k0s(),e.j41(13,"td"),e.DNE(14,se,1,0,"button",42),e.nrm(15,"p-menu",43,1),e.k0s()()),2&o){const t=r.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.employeeName),e.R7$(2),e.JRh(t.position),e.R7$(2),e.JRh(t.contractType),e.R7$(2),e.JRh(t.startDate),e.R7$(2),e.JRh(t.endDate),e.R7$(2),e.Y8G("value",t.status)("severity",i.getStatusSeverity(t.status)),e.R7$(2),e.Y8G("ngIf",i.contractMenuItems.length>0),e.R7$(),e.Y8G("model",i.contractMenuItems)("appendTo","body")("popup",!0)}}let le=(()=>{class o{constructor(t,i){this.translate=t,this.messageService=i,this.contracts=[],this.contractMenuItems=[],this.currentSelectedContract={id:"",employeeName:"",position:"",contractType:"",startDate:"",endDate:"",status:""},this.contractDialog=!1,this.deleteContractDialog=!1,this.tableLoadingSpinner=!1,this.contractTypeOptions=[{label:"Full-time",value:"Full-time"},{label:"Part-time",value:"Part-time"},{label:"Contract",value:"Contract"},{label:"Internship",value:"Internship"}],this.statusOptions=[{label:"Active",value:"Active"},{label:"Expired",value:"Expired"},{label:"Expiring Soon",value:"Expiring Soon"},{label:"Terminated",value:"Terminated"}]}ngOnInit(){this.buildContractMenuItems(),this.initiateContractForm(),this.loadContracts()}buildContractMenuItems(){this.contractMenuItems=[{label:this.translate.getInstant("shared.actions.edit"),icon:"pi pi-fw pi-pencil",command:()=>this.openContractEditDialog(this.currentSelectedContract)},{label:this.translate.getInstant("shared.actions.delete"),icon:"pi pi-fw pi-trash",command:()=>this.openContractDeleteDialog(this.currentSelectedContract)}]}assignCurrentContract(t){this.currentSelectedContract=t}loadContracts(){this.tableLoadingSpinner=!0,this.contracts=[{id:"1",employeeName:"John Doe",position:"Software Developer",contractType:"Full-time",startDate:"2023-01-15",endDate:"2025-12-31",status:"Active",salary:75e3,department:"IT"},{id:"2",employeeName:"Jane Smith",position:"Project Manager",contractType:"Full-time",startDate:"2023-03-01",endDate:"2024-03-15",status:"Expiring Soon",salary:85e3,department:"Management"},{id:"3",employeeName:"Mike Wilson",position:"UI/UX Designer",contractType:"Contract",startDate:"2023-06-01",endDate:"2024-06-01",status:"Active",salary:65e3,department:"Design"},{id:"4",employeeName:"Sarah Johnson",position:"Marketing Specialist",contractType:"Part-time",startDate:"2023-09-01",endDate:"2024-09-01",status:"Active",salary:45e3,department:"Marketing"},{id:"5",employeeName:"David Lee",position:"Data Analyst",contractType:"Full-time",startDate:"2022-11-15",endDate:"2024-11-15",status:"Expired",salary:7e4,department:"Analytics"}],this.tableLoadingSpinner=!1}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}navigateToCreateContract(){this.contractDialog=!0,this.contractForm.reset()}openContractEditDialog(t){this.contractDialog=!0,this.currentSelectedContract=t,this.contractForm.patchValue({employeeName:t.employeeName,position:t.position,contractType:t.contractType,startDate:t.startDate,endDate:t.endDate,status:t.status,salary:t.salary,department:t.department})}openContractDeleteDialog(t){this.deleteContractDialog=!0,this.currentSelectedContract=t}hideContractDialog(){this.contractDialog=!1}saveContract(){if(this.contractForm.valid){if(this.currentSelectedContract.id){const t=this.contracts.findIndex(i=>i.id===this.currentSelectedContract.id);-1!==t&&(this.contracts[t]={...this.contracts[t],employeeName:this.contractForm.value.employeeName,position:this.contractForm.value.position,contractType:this.contractForm.value.contractType,startDate:this.contractForm.value.startDate,endDate:this.contractForm.value.endDate,status:this.contractForm.value.status,salary:this.contractForm.value.salary,department:this.contractForm.value.department})}else{const t={id:(this.contracts.length+1).toString(),employeeName:this.contractForm.value.employeeName,position:this.contractForm.value.position,contractType:this.contractForm.value.contractType,startDate:this.contractForm.value.startDate,endDate:this.contractForm.value.endDate,status:this.contractForm.value.status,salary:this.contractForm.value.salary,department:this.contractForm.value.department};this.contracts.push(t)}this.hideContractDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Contract saved successfully",life:3e3})}}deleteContract(){const t=this.contracts.findIndex(i=>i.id===this.currentSelectedContract.id);-1!==t&&this.contracts.splice(t,1),this.deleteContractDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Contract deleted successfully",life:3e3})}initiateContractForm(){this.contractForm=new a.gE({employeeName:new a.MJ("",[a.k0.required]),position:new a.MJ("",[a.k0.required]),contractType:new a.MJ("",[a.k0.required]),startDate:new a.MJ("",[a.k0.required]),endDate:new a.MJ("",[a.k0.required]),status:new a.MJ("Active",[a.k0.required]),salary:new a.MJ(0),department:new a.MJ("")})}getStatusSeverity(t){switch(t){case"Active":return"success";case"Expiring Soon":return"warning";case"Expired":return"danger";default:return"secondary"}}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(g.L),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-contract"]],features:[e.Jv_([m.bg])],decls:45,vars:9,consts:[["contractTable",""],["contractMenu",""],[1,"card"],[1,"mb-4"],[1,"text-3xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"grid","mb-4"],[1,"col-12","md:col-4"],[1,"surface-card","border-round","p-4"],[1,"flex","align-items-center"],[1,"mr-3"],[1,"pi","pi-file","text-2xl","text-blue-500"],[1,"text-500","text-sm"],[1,"text-2xl","font-bold","text-900"],[1,"pi","pi-clock","text-2xl","text-orange-500"],[1,"pi","pi-check-circle","text-2xl","text-green-500"],[1,"iAware-loading-table-container",2,"position","relative"],[4,"ngIf"],["responsiveLayout","scroll",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-wrap","gap-2","align-items-center","justify-content-between"],[1,"p-input-icon-left","w-full","sm:w-20rem","flex-order-1","sm:flex-order-0"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search contracts...",1,"w-full",3,"input"],["icon","pi pi-plus","label","New Contract",1,"p-button-outlined","w-full","sm:w-auto","flex-order-0","sm:flex-order-1",3,"onClick"],["pSortableColumn","employeeName",1,"white-space-nowrap",2,"width","25%"],["field","employeeName"],["pSortableColumn","position",1,"white-space-nowrap",2,"width","20%"],["field","position"],["pSortableColumn","contractType",1,"white-space-nowrap",2,"width","15%"],["field","contractType"],["pSortableColumn","startDate",1,"white-space-nowrap",2,"width","15%"],["field","startDate"],["pSortableColumn","endDate",1,"white-space-nowrap",2,"width","15%"],["field","endDate"],["pSortableColumn","status",1,"white-space-nowrap",2,"width","10%"],["field","status"],[1,"text-right",2,"width","5%"],[1,"font-semibold"],[3,"value","severity"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","class","p-button-rounded p-button-text p-button-plain ml-3",3,"click",4,"ngIf"],[3,"model","appendTo","popup"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain","ml-3",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"div",2),e.nrm(1,"p-toast"),e.j41(2,"div",3)(3,"h1",4),e.EFF(4,"Contract Management"),e.k0s(),e.j41(5,"p",5),e.EFF(6,"Manage employee contracts and agreements"),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),e.nrm(12,"i",11),e.k0s(),e.j41(13,"div")(14,"span",12),e.EFF(15,"Active Contracts"),e.k0s(),e.j41(16,"div",13),e.EFF(17,"142"),e.k0s()()()()(),e.j41(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",10),e.nrm(22,"i",14),e.k0s(),e.j41(23,"div")(24,"span",12),e.EFF(25,"Expiring Soon"),e.k0s(),e.j41(26,"div",13),e.EFF(27,"8"),e.k0s()()()()(),e.j41(28,"div",7)(29,"div",8)(30,"div",9)(31,"div",10),e.nrm(32,"i",15),e.k0s(),e.j41(33,"div")(34,"span",12),e.EFF(35,"Renewed"),e.k0s(),e.j41(36,"div",13),e.EFF(37,"15"),e.k0s()()()()()(),e.j41(38,"div",16),e.DNE(39,oe,1,0,"app-table-loading-spinner",17),e.j41(40,"p-table",18,0),e.DNE(42,ie,5,0,"ng-template",19)(43,ae,20,0,"ng-template",20)(44,re,17,11,"ng-template",21),e.k0s()()()),2&i&&(e.R7$(39),e.Y8G("ngIf",n.tableLoadingSpinner),e.R7$(),e.Y8G("value",n.contracts)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(7,te))("globalFilterFields",e.lJ4(8,ne)))},dependencies:[m.Ei,d.XI,d.Tg,d.yc,u._f,u.$n,_.y8,h.bT,f.n,b.S,C.W1,v.v,y.j],styles:[".contract-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.contract-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.contract-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.5rem}.contract-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a;display:flex;align-items:center;gap:1.5rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:3rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1rem;margin-bottom:.5rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;font-weight:700}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:2rem;border-bottom:1px solid #ecf0f1;display:flex;justify-content:space-between;align-items:center}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin:0}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#3498db;color:#fff}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#2980b9}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid #ecf0f1;display:grid;grid-template-columns:2fr 1fr 1fr 1fr;gap:1rem;align-items:center}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-avatar[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:50%;background:#ecf0f1;display:flex;align-items:center;justify-content:center;font-size:1.5rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.25rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .employee-info[_ngcontent-%COMP%]   .employee-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:.9rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-details[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-details[_ngcontent-%COMP%]   .contract-type[_ngcontent-%COMP%]{color:#3498db;font-weight:600}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-details[_ngcontent-%COMP%]   .contract-duration[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-status[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-status[_ngcontent-%COMP%]   .status.active[_ngcontent-%COMP%]{background:#d5f4e6;color:#27ae60}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-status[_ngcontent-%COMP%]   .status.expiring[_ngcontent-%COMP%]{background:#fef9e7;color:#f39c12}.contract-container[_ngcontent-%COMP%]   .contract-content[_ngcontent-%COMP%]   .contract-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .contract-row[_ngcontent-%COMP%]   .contract-expiry[_ngcontent-%COMP%]   .expiry-date[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}"]})}}return o})();var k=c(4945);const R=()=>[10,25,50],pe=()=>["name","status","industry"],ce=()=>["name","email","role","company","status"],P=()=>({width:"600px"}),I=()=>({width:"450px"});function me(o,r){1&o&&e.nrm(0,"app-table-loading-spinner")}function de(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",22)(1,"span",23),e.nrm(2,"i",24),e.j41(3,"input",25),e.bIt("input",function(n){e.eBV(t);const l=e.XpG(),p=e.sdS(12);return e.Njj(l.onGlobalFilter(p,n))}),e.k0s()(),e.j41(4,"p-button",26),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToCreateCompany())}),e.k0s()()}}function ue(o,r){1&o&&(e.j41(0,"tr")(1,"th",27),e.EFF(2," Company Name"),e.nrm(3,"p-sortIcon",28),e.k0s(),e.j41(4,"th",29),e.EFF(5," Status"),e.nrm(6,"p-sortIcon",30),e.k0s(),e.j41(7,"th",31),e.EFF(8,"Industry"),e.k0s(),e.j41(9,"th",32),e.EFF(10,"Founded"),e.k0s(),e.j41(11,"th",32),e.EFF(12,"Employees"),e.k0s(),e.j41(13,"th",33),e.EFF(14,"Admins"),e.k0s(),e.nrm(15,"th",34),e.k0s())}function he(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(n){e.eBV(t);const l=e.XpG().$implicit,p=e.sdS(16),s=e.XpG();return p.toggle(n),e.Njj(s.assignCurrentCompany(l))}),e.k0s()}}function ge(o,r){if(1&o&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.k0s(),e.j41(3,"td"),e.nrm(4,"p-tag",36),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.DNE(14,he,1,0,"button",37),e.nrm(15,"p-menu",38,2),e.k0s()()),2&o){const t=r.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.name),e.R7$(2),e.Y8G("value",t.status)("severity",i.getStatusSeverity(t.status)),e.R7$(2),e.JRh(t.industry),e.R7$(2),e.JRh(t.founded),e.R7$(2),e.JRh(t.employees),e.R7$(2),e.JRh(t.adminCount),e.R7$(2),e.Y8G("ngIf",i.companyMenuItems.length>0),e.R7$(),e.Y8G("model",i.companyMenuItems)("appendTo","body")("popup",!0)}}function _e(o,r){1&o&&e.nrm(0,"app-table-loading-spinner")}function fe(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",22)(1,"span",23),e.nrm(2,"i",24),e.j41(3,"input",40),e.bIt("input",function(n){e.eBV(t);const l=e.XpG(),p=e.sdS(20);return e.Njj(l.onGlobalFilter(p,n))}),e.k0s()(),e.j41(4,"p-button",41),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.navigateToCreateUser())}),e.k0s()()}}function be(o,r){1&o&&(e.j41(0,"tr")(1,"th",42),e.EFF(2," Name"),e.nrm(3,"p-sortIcon",28),e.k0s(),e.j41(4,"th",43),e.EFF(5," Email"),e.nrm(6,"p-sortIcon",44),e.k0s(),e.j41(7,"th",45),e.EFF(8," Role"),e.nrm(9,"p-sortIcon",46),e.k0s(),e.j41(10,"th",47),e.EFF(11," Company"),e.nrm(12,"p-sortIcon",48),e.k0s(),e.j41(13,"th",49),e.EFF(14," Status"),e.nrm(15,"p-sortIcon",30),e.k0s(),e.nrm(16,"th",34),e.k0s())}function Ce(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",39),e.bIt("click",function(n){e.eBV(t);const l=e.XpG().$implicit,p=e.sdS(14),s=e.XpG();return p.toggle(n),e.Njj(s.assignCurrentUser(l))}),e.k0s()}}function ve(o,r){if(1&o&&(e.j41(0,"tr")(1,"td",35),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.nrm(6,"p-tag",36),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.nrm(10,"p-tag",36),e.k0s(),e.j41(11,"td"),e.DNE(12,Ce,1,0,"button",37),e.nrm(13,"p-menu",38,3),e.k0s()()),2&o){const t=r.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.name),e.R7$(2),e.JRh(t.email),e.R7$(2),e.Y8G("value",t.role)("severity",i.getRoleSeverity(t.role)),e.R7$(2),e.JRh(t.company),e.R7$(2),e.Y8G("value",t.status)("severity",i.getStatusSeverity(t.status)),e.R7$(2),e.Y8G("ngIf",i.userMenuItems.length>0),e.R7$(),e.Y8G("model",i.userMenuItems)("appendTo","body")("popup",!0)}}function ye(o,r){if(1&o){const t=e.RV6();e.j41(0,"form",50),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveCompany())}),e.j41(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"label",55),e.EFF(6,"Company Name"),e.k0s(),e.nrm(7,"input",56),e.k0s(),e.j41(8,"div",54)(9,"label",57),e.EFF(10,"Status"),e.k0s(),e.nrm(11,"p-dropdown",58),e.k0s(),e.j41(12,"div",54)(13,"label",59),e.EFF(14,"Industry"),e.k0s(),e.nrm(15,"input",60),e.k0s(),e.j41(16,"div",54)(17,"label",61),e.EFF(18,"Founded Year"),e.k0s(),e.nrm(19,"p-inputNumber",62),e.k0s(),e.j41(20,"div",63)(21,"label",64),e.EFF(22,"Number of Employees"),e.k0s(),e.nrm(23,"p-inputNumber",65),e.k0s()()()()()}if(2&o){const t=e.XpG();e.Y8G("formGroup",t.companyForm),e.R7$(11),e.Y8G("options",t.statusOptions),e.R7$(8),e.Y8G("min",1900)("max",2024),e.R7$(4),e.Y8G("min",1)}}function ke(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",66),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideCompanyDialog())}),e.k0s(),e.j41(1,"button",67),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveCompany())}),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("label",t.currentSelectedCompany.id?"Update Company":"Save Company")}}function je(o,r){if(1&o){const t=e.RV6();e.j41(0,"form",50),e.bIt("ngSubmit",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveUser())}),e.j41(1,"div",51)(2,"div",52)(3,"div",53)(4,"div",54)(5,"label",68),e.EFF(6,"Full Name"),e.k0s(),e.nrm(7,"input",69),e.k0s(),e.j41(8,"div",54)(9,"label",70),e.EFF(10,"Email"),e.k0s(),e.nrm(11,"input",71),e.k0s(),e.j41(12,"div",54)(13,"label",72),e.EFF(14,"Role"),e.k0s(),e.nrm(15,"p-dropdown",73),e.k0s(),e.j41(16,"div",54)(17,"label",74),e.EFF(18,"Company"),e.k0s(),e.nrm(19,"p-dropdown",75),e.k0s(),e.j41(20,"div",63)(21,"label",76),e.EFF(22,"Status"),e.k0s(),e.nrm(23,"p-dropdown",77),e.k0s()()()()()}if(2&o){const t=e.XpG();e.Y8G("formGroup",t.userForm),e.R7$(15),e.Y8G("options",t.roleOptions),e.R7$(4),e.Y8G("options",t.companies),e.R7$(4),e.Y8G("options",t.statusOptions)}}function Fe(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",66),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.hideUserDialog())}),e.k0s(),e.j41(1,"button",67),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveUser())}),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("label",t.currentSelectedUser.id?"Update User":"Save User")}}function Te(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete this company?"),e.k0s())}function Se(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",78),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteCompanyDialog=!1)}),e.k0s(),e.j41(1,"button",79),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteCompany())}),e.k0s()}}function we(o,r){1&o&&(e.j41(0,"span"),e.EFF(1,"Are you sure you want to delete this user?"),e.k0s())}function De(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",78),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteUserDialog=!1)}),e.k0s(),e.j41(1,"button",79),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteUser())}),e.k0s()}}const O=()=>[10,25,50],Ee=()=>["employeeName","project","task","status"],Me=()=>["employeeName","project","task"],A=()=>({width:"500px"});function Re(o,r){1&o&&e.nrm(0,"app-table-loading-spinner")}function Pe(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",37)(1,"span",38),e.nrm(2,"i",39),e.j41(3,"input",40),e.bIt("input",function(n){e.eBV(t);const l=e.XpG(),p=e.sdS(49);return e.Njj(l.onGlobalFilter(p,n))}),e.k0s()()()}}function Ie(o,r){1&o&&(e.j41(0,"tr")(1,"th",41),e.EFF(2," Employee"),e.nrm(3,"p-sortIcon",42),e.k0s(),e.j41(4,"th",43),e.EFF(5," Date"),e.nrm(6,"p-sortIcon",44),e.k0s(),e.j41(7,"th",45),e.EFF(8," Project"),e.nrm(9,"p-sortIcon",46),e.k0s(),e.j41(10,"th",47),e.EFF(11," Task"),e.nrm(12,"p-sortIcon",48),e.k0s(),e.j41(13,"th",49),e.EFF(14," Hours"),e.nrm(15,"p-sortIcon",50),e.k0s(),e.j41(16,"th",51),e.EFF(17,"Remarks"),e.k0s(),e.j41(18,"th",52),e.EFF(19," Status"),e.nrm(20,"p-sortIcon",53),e.k0s(),e.nrm(21,"th",54),e.k0s())}function Oe(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",59),e.bIt("click",function(n){e.eBV(t);const l=e.XpG().$implicit,p=e.sdS(19),s=e.XpG();return p.toggle(n),e.Njj(s.assignCurrent(l))}),e.k0s()}}function Ae(o,r){if(1&o&&(e.j41(0,"tr")(1,"td",55),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.nrm(15,"p-tag",56),e.k0s(),e.j41(16,"td"),e.DNE(17,Oe,1,0,"button",57),e.nrm(18,"p-menu",58,2),e.k0s()()),2&o){const t=r.$implicit,i=e.XpG();e.R7$(2),e.JRh(t.employeeName),e.R7$(2),e.JRh(e.i5U(5,12,t.date,"yyyy-MM-dd")),e.R7$(3),e.JRh(t.project),e.R7$(2),e.JRh(t.task),e.R7$(2),e.SpI("",t.hours,"h"),e.R7$(2),e.JRh(t.remarks),e.R7$(2),e.Y8G("value",t.status)("severity",i.getStatusSeverity(t.status)),e.R7$(2),e.Y8G("ngIf",i.menuItems.length>0),e.R7$(),e.Y8G("model",i.menuItems)("appendTo","body")("popup",!0)}}function Ne(o,r){1&o&&e.nrm(0,"app-table-loading-spinner")}function Ge(o,r){if(1&o){const t=e.RV6();e.j41(0,"div",37)(1,"span",38),e.nrm(2,"i",39),e.j41(3,"input",60),e.bIt("input",function(n){e.eBV(t);const l=e.XpG(),p=e.sdS(57);return e.Njj(l.onGlobalFilter(p,n))}),e.k0s()()()}}function Ve(o,r){1&o&&(e.j41(0,"tr")(1,"th",41),e.EFF(2," Employee"),e.nrm(3,"p-sortIcon",42),e.k0s(),e.j41(4,"th",43),e.EFF(5," Date"),e.nrm(6,"p-sortIcon",44),e.k0s(),e.j41(7,"th",45),e.EFF(8," Project"),e.nrm(9,"p-sortIcon",46),e.k0s(),e.j41(10,"th",47),e.EFF(11," Task"),e.nrm(12,"p-sortIcon",48),e.k0s(),e.j41(13,"th",49),e.EFF(14," Hours"),e.nrm(15,"p-sortIcon",50),e.k0s(),e.j41(16,"th",61),e.EFF(17," Approved Date"),e.nrm(18,"p-sortIcon",62),e.k0s(),e.j41(19,"th",63),e.EFF(20,"Approved By"),e.k0s()())}function Je(o,r){if(1&o&&(e.j41(0,"tr")(1,"td",55),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.nI1(14,"date"),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s()()),2&o){const t=r.$implicit;e.R7$(2),e.JRh(t.employeeName),e.R7$(2),e.JRh(e.i5U(5,7,t.date,"yyyy-MM-dd")),e.R7$(3),e.JRh(t.project),e.R7$(2),e.JRh(t.task),e.R7$(2),e.SpI("",t.hours,"h"),e.R7$(2),e.JRh(e.i5U(14,10,t.approvedDate,"yyyy-MM-dd")),e.R7$(3),e.JRh(t.approvedBy)}}function Be(o,r){if(1&o&&(e.j41(0,"p",64)(1,"strong"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.JRh(t.currentSelected.employeeName),e.R7$(),e.Lme(" - ",t.currentSelected.project," (",t.currentSelected.hours,"h) ")}}function $e(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",65),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.approveDialog=!1)}),e.k0s(),e.j41(1,"button",66),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.approve())}),e.k0s()}}function Ue(o,r){if(1&o&&(e.j41(0,"p",64)(1,"strong"),e.EFF(2),e.k0s(),e.EFF(3),e.k0s()),2&o){const t=e.XpG();e.R7$(2),e.JRh(t.currentSelected.employeeName),e.R7$(),e.Lme(" - ",t.currentSelected.project," (",t.currentSelected.hours,"h) ")}}function Xe(o,r){if(1&o){const t=e.RV6();e.j41(0,"button",65),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.rejectDialog=!1)}),e.k0s(),e.j41(1,"button",67),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.reject())}),e.k0s()}}const Ye=[{path:"",redirectTo:"timesheets",pathMatch:"full"},{path:"timesheets",component:ee,data:{breadcrumb:"timesheets"}},{path:"admin-timesheets",component:(()=>{class o{constructor(t,i){this.translate=t,this.messageService=i,this.companies=[],this.users=[],this.companyMenuItems=[],this.userMenuItems=[],this.currentSelectedCompany={id:"",name:"",status:"",adminCount:0},this.currentSelectedUser={id:"",name:"",email:"",role:"",company:"",status:""},this.companyDialog=!1,this.userDialog=!1,this.deleteCompanyDialog=!1,this.deleteUserDialog=!1,this.tableLoadingSpinner=!1,this.roleOptions=[{label:"System Admin",value:"System Admin"},{label:"Company Admin",value:"Company Admin"},{label:"Supervisor",value:"Supervisor"},{label:"Employee",value:"Employee"}],this.statusOptions=[{label:"Active",value:"Active"},{label:"Inactive",value:"Inactive"}]}ngOnInit(){this.buildCompanyMenuItems(),this.buildUserMenuItems(),this.initiateCompanyForm(),this.initiateUserForm(),this.loadCompanies(),this.loadUsers()}buildCompanyMenuItems(){this.companyMenuItems=[{label:this.translate.getInstant("shared.actions.edit"),icon:"pi pi-fw pi-pencil",command:()=>this.openCompanyEditDialog(this.currentSelectedCompany)},{label:this.translate.getInstant("shared.actions.delete"),icon:"pi pi-fw pi-trash",command:()=>this.openCompanyDeleteDialog(this.currentSelectedCompany)}]}buildUserMenuItems(){this.userMenuItems=[{label:this.translate.getInstant("shared.actions.edit"),icon:"pi pi-fw pi-pencil",command:()=>this.openUserEditDialog(this.currentSelectedUser)},{label:this.translate.getInstant("shared.actions.delete"),icon:"pi pi-fw pi-trash",command:()=>this.openUserDeleteDialog(this.currentSelectedUser)}]}assignCurrentCompany(t){this.currentSelectedCompany=t}assignCurrentUser(t){this.currentSelectedUser=t}loadCompanies(){this.tableLoadingSpinner=!0,this.companies=[{id:"1",name:"Acme Corporation",status:"Active",adminCount:2,industry:"Technology",founded:2015,employees:150},{id:"2",name:"Global Solutions Ltd",status:"Active",adminCount:1,industry:"Consulting",founded:2010,employees:75},{id:"3",name:"TechStart Inc",status:"Inactive",adminCount:0,industry:"Software",founded:2020,employees:25},{id:"4",name:"Manufacturing Co",status:"Active",adminCount:1,industry:"Manufacturing",founded:2005,employees:300},{id:"5",name:"Service Provider LLC",status:"Active",adminCount:2,industry:"Services",founded:2018,employees:50}],this.tableLoadingSpinner=!1}loadUsers(){this.users=[{id:"1",name:"John Smith",email:"john@acme.com",role:"Company Admin",company:"Acme Corporation",status:"Active"},{id:"2",name:"Sarah Johnson",email:"sarah@acme.com",role:"Supervisor",company:"Acme Corporation",status:"Active"},{id:"3",name:"Mike Wilson",email:"mike@global.com",role:"Company Admin",company:"Global Solutions Ltd",status:"Active"},{id:"4",name:"Lisa Brown",email:"lisa@techstart.com",role:"Employee",company:"TechStart Inc",status:"Inactive"},{id:"5",name:"David Lee",email:"david@manufacturing.com",role:"Supervisor",company:"Manufacturing Co",status:"Active"},{id:"6",name:"Emma Davis",email:"emma@service.com",role:"Company Admin",company:"Service Provider LLC",status:"Active"},{id:"7",name:"Tom Anderson",email:"tom@service.com",role:"Employee",company:"Service Provider LLC",status:"Active"}]}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}navigateToCreateCompany(){this.companyDialog=!0,this.companyForm.reset()}navigateToCreateUser(){this.userDialog=!0,this.userForm.reset()}openCompanyEditDialog(t){this.companyDialog=!0,this.currentSelectedCompany=t,this.companyForm.patchValue({name:t.name,status:t.status,industry:t.industry,founded:t.founded,employees:t.employees})}openUserEditDialog(t){this.userDialog=!0,this.currentSelectedUser=t,this.userForm.patchValue({name:t.name,email:t.email,role:t.role,company:t.company,status:t.status})}openCompanyDeleteDialog(t){this.deleteCompanyDialog=!0,this.currentSelectedCompany=t}openUserDeleteDialog(t){this.deleteUserDialog=!0,this.currentSelectedUser=t}hideCompanyDialog(){this.companyDialog=!1}hideUserDialog(){this.userDialog=!1}saveCompany(){if(this.companyForm.valid){if(this.currentSelectedCompany.id){const t=this.companies.findIndex(i=>i.id===this.currentSelectedCompany.id);-1!==t&&(this.companies[t]={...this.companies[t],name:this.companyForm.value.name,status:this.companyForm.value.status,industry:this.companyForm.value.industry,founded:this.companyForm.value.founded,employees:this.companyForm.value.employees})}else{const t={id:(this.companies.length+1).toString(),name:this.companyForm.value.name,status:this.companyForm.value.status,adminCount:0,industry:this.companyForm.value.industry,founded:this.companyForm.value.founded,employees:this.companyForm.value.employees};this.companies.push(t)}this.hideCompanyDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Company saved successfully",life:3e3})}}saveUser(){if(this.userForm.valid){if(this.currentSelectedUser.id){const t=this.users.findIndex(i=>i.id===this.currentSelectedUser.id);-1!==t&&(this.users[t]={...this.users[t],name:this.userForm.value.name,email:this.userForm.value.email,role:this.userForm.value.role,company:this.userForm.value.company,status:this.userForm.value.status})}else{const t={id:(this.users.length+1).toString(),name:this.userForm.value.name,email:this.userForm.value.email,role:this.userForm.value.role,company:this.userForm.value.company,status:this.userForm.value.status};this.users.push(t)}this.hideUserDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"User saved successfully",life:3e3})}}deleteCompany(){const t=this.companies.findIndex(i=>i.id===this.currentSelectedCompany.id);-1!==t&&this.companies.splice(t,1),this.deleteCompanyDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Company deleted successfully",life:3e3})}deleteUser(){const t=this.users.findIndex(i=>i.id===this.currentSelectedUser.id);-1!==t&&this.users.splice(t,1),this.deleteUserDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"User deleted successfully",life:3e3})}initiateCompanyForm(){this.companyForm=new a.gE({name:new a.MJ("",[a.k0.required]),status:new a.MJ("Active",[a.k0.required]),industry:new a.MJ(""),founded:new a.MJ((new Date).getFullYear()),employees:new a.MJ(1,[a.k0.min(1)])})}initiateUserForm(){this.userForm=new a.gE({name:new a.MJ("",[a.k0.required]),email:new a.MJ("",[a.k0.required,a.k0.email]),role:new a.MJ("",[a.k0.required]),company:new a.MJ("",[a.k0.required]),status:new a.MJ("Active",[a.k0.required])})}getStatusSeverity(t){switch(t){case"Active":return"success";case"Inactive":return"danger";default:return"secondary"}}getRoleSeverity(t){switch(t){case"System Admin":return"danger";case"Company Admin":return"warning";case"Supervisor":return"info";case"Employee":return"success";default:return"secondary"}}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(g.L),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-admin-timesheets"]],features:[e.Jv_([m.bg])],decls:40,vars:42,consts:[["companyTable",""],["userTable",""],["companyMenu",""],["userMenu",""],[1,"card"],[1,"mb-4"],[1,"text-3xl","font-bold","mb-2"],[1,"text-gray-600"],["header","Companies"],[1,"iAware-loading-table-container",2,"position","relative"],[4,"ngIf"],["responsiveLayout","scroll",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Users"],[1,"p-fluid",3,"visibleChange","visible","header","modal"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm Delete",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[1,"flex","flex-wrap","gap-2","align-items-center","justify-content-between"],[1,"p-input-icon-left","w-full","sm:w-20rem","flex-order-1","sm:flex-order-0"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search companies...",1,"w-full",3,"input"],["icon","pi pi-plus","label","Add Company",1,"p-button-outlined","w-full","sm:w-auto","flex-order-0","sm:flex-order-1",3,"onClick"],["pSortableColumn","name",1,"white-space-nowrap",2,"width","25%"],["field","name"],["pSortableColumn","status",1,"white-space-nowrap",2,"width","15%"],["field","status"],[2,"width","20%"],[2,"width","15%"],[2,"width","10%"],[1,"text-right",2,"width","5%"],[1,"font-semibold"],[3,"value","severity"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","class","p-button-rounded p-button-text p-button-plain ml-3",3,"click",4,"ngIf"],[3,"model","appendTo","popup"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain","ml-3",3,"click"],["pInputText","","type","text","placeholder","Search users...",1,"w-full",3,"input"],["icon","pi pi-plus","label","Add User",1,"p-button-outlined","w-full","sm:w-auto","flex-order-0","sm:flex-order-1",3,"onClick"],["pSortableColumn","name",1,"white-space-nowrap",2,"width","20%"],["pSortableColumn","email",1,"white-space-nowrap",2,"width","25%"],["field","email"],["pSortableColumn","role",1,"white-space-nowrap",2,"width","15%"],["field","role"],["pSortableColumn","company",1,"white-space-nowrap",2,"width","20%"],["field","company"],["pSortableColumn","status",1,"white-space-nowrap",2,"width","10%"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12"],[1,"grid","formgrid","p-fluid"],[1,"field","mb-4","col-12","md:col-6"],["for","companyName",1,"font-medium","text-900"],["id","companyName","type","text","pInputText","","formControlName","name","placeholder","Enter company name",1,"w-full"],["for","companyStatus",1,"font-medium","text-900"],["id","companyStatus","formControlName","status","optionLabel","label","optionValue","value","placeholder","Select status",1,"w-full",3,"options"],["for","industry",1,"font-medium","text-900"],["id","industry","type","text","pInputText","","formControlName","industry","placeholder","Enter industry",1,"w-full"],["for","founded",1,"font-medium","text-900"],["id","founded","formControlName","founded","placeholder","Enter founded year",1,"w-full",3,"min","max"],[1,"field","mb-4","col-12"],["for","employees",1,"font-medium","text-900"],["id","employees","formControlName","employees","placeholder","Enter number of employees",1,"w-full",3,"min"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button-text",3,"onClick","label"],["for","userName",1,"font-medium","text-900"],["id","userName","type","text","pInputText","","formControlName","name","placeholder","Enter full name",1,"w-full"],["for","userEmail",1,"font-medium","text-900"],["id","userEmail","type","email","pInputText","","formControlName","email","placeholder","Enter email address",1,"w-full"],["for","userRole",1,"font-medium","text-900"],["id","userRole","formControlName","role","optionLabel","label","optionValue","value","placeholder","Select role",1,"w-full",3,"options"],["for","userCompany",1,"font-medium","text-900"],["id","userCompany","formControlName","company","optionLabel","name","optionValue","name","placeholder","Select company",1,"w-full",3,"options"],["for","userStatus",1,"font-medium","text-900"],["id","userStatus","formControlName","status","optionLabel","label","optionValue","value","placeholder","Select status",1,"w-full",3,"options"],["pButton","","pRipple","","icon","pi pi-times","label","Cancel",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","icon","pi pi-check","label","Delete",1,"p-button-text",3,"onClick"]],template:function(i,n){if(1&i){const l=e.RV6();e.j41(0,"div",4),e.nrm(1,"p-toast"),e.j41(2,"div",5)(3,"h1",6),e.EFF(4,"Admin Timesheets"),e.k0s(),e.j41(5,"p",7),e.EFF(6,"System administration - Manage companies and users"),e.k0s()(),e.j41(7,"p-tabView")(8,"p-tabPanel",8)(9,"div",9),e.DNE(10,me,1,0,"app-table-loading-spinner",10),e.j41(11,"p-table",11,0),e.DNE(13,de,5,0,"ng-template",12)(14,ue,16,0,"ng-template",13)(15,ge,17,11,"ng-template",14),e.k0s()()(),e.j41(16,"p-tabPanel",15)(17,"div",9),e.DNE(18,_e,1,0,"app-table-loading-spinner",10),e.j41(19,"p-table",11,1),e.DNE(21,fe,5,0,"ng-template",12)(22,be,17,0,"ng-template",13)(23,ve,15,11,"ng-template",14),e.k0s()()()()(),e.j41(24,"p-dialog",16),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.companyDialog,s)||(n.companyDialog=s),e.Njj(s)}),e.DNE(25,ye,24,5,"ng-template",17)(26,ke,2,1,"ng-template",18),e.k0s(),e.j41(27,"p-dialog",16),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.userDialog,s)||(n.userDialog=s),e.Njj(s)}),e.DNE(28,je,24,4,"ng-template",17)(29,Fe,2,1,"ng-template",18),e.k0s(),e.j41(30,"p-dialog",19),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.deleteCompanyDialog,s)||(n.deleteCompanyDialog=s),e.Njj(s)}),e.j41(31,"div",20),e.nrm(32,"i",21),e.DNE(33,Te,2,0,"span",10),e.k0s(),e.DNE(34,Se,2,0,"ng-template",18),e.k0s(),e.j41(35,"p-dialog",19),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.deleteUserDialog,s)||(n.deleteUserDialog=s),e.Njj(s)}),e.j41(36,"div",20),e.nrm(37,"i",21),e.DNE(38,we,2,0,"span",10),e.k0s(),e.DNE(39,De,2,0,"ng-template",18),e.k0s()}2&i&&(e.R7$(10),e.Y8G("ngIf",n.tableLoadingSpinner),e.R7$(),e.Y8G("value",n.companies)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(34,R))("globalFilterFields",e.lJ4(35,pe)),e.R7$(7),e.Y8G("ngIf",n.tableLoadingSpinner),e.R7$(),e.Y8G("value",n.users)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(36,R))("globalFilterFields",e.lJ4(37,ce)),e.R7$(5),e.Aen(e.lJ4(38,P)),e.R50("visible",n.companyDialog),e.Y8G("header",n.currentSelectedCompany.id?"Edit Company":"Add Company")("modal",!0),e.R7$(3),e.Aen(e.lJ4(39,P)),e.R50("visible",n.userDialog),e.Y8G("header",n.currentSelectedUser.id?"Edit User":"Add User")("modal",!0),e.R7$(3),e.Aen(e.lJ4(40,I)),e.R50("visible",n.deleteCompanyDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.currentSelectedCompany),e.R7$(2),e.Aen(e.lJ4(41,I)),e.R50("visible",n.deleteUserDialog),e.Y8G("modal",!0),e.R7$(3),e.Y8G("ngIf",n.currentSelectedUser))},dependencies:[m.Ei,d.XI,d.Tg,d.yc,a.qT,a.me,a.BC,a.cb,u._f,u.$n,j.ms,F.l,_.y8,D.YI,h.bT,a.j4,a.JD,k.JQ,k.Kp,f.n,b.S,C.W1,v.v,T.ZP,y.j]})}}return o})(),data:{breadcrumb:"adminTimesheets"}},{path:"supervisor-timesheets",component:(()=>{class o{constructor(t,i){this.translate=t,this.messageService=i,this.pendingApprovals=[],this.recentlyApproved=[],this.menuItems=[],this.currentSelected={id:"",date:new Date,project:"",task:"",hours:0,remarks:"",status:"",employeeName:"",employeeEmail:"",submittedDate:new Date},this.approveDialog=!1,this.rejectDialog=!1,this.tableLoadingSpinner=!1,this.selectedEmployee="",this.selectedPeriod="",this.employeeOptions=[{label:"All Employees",value:""},{label:"John Smith",value:"John Smith"},{label:"Sarah Johnson",value:"Sarah Johnson"},{label:"Mike Wilson",value:"Mike Wilson"},{label:"Lisa Brown",value:"Lisa Brown"}],this.periodOptions=[{label:"This Week",value:"week"},{label:"This Month",value:"month"},{label:"Last 3 Months",value:"quarter"},{label:"All Time",value:"all"}]}ngOnInit(){this.buildMenuItems(),this.loadPendingApprovals(),this.loadRecentlyApproved()}buildMenuItems(){this.menuItems=[{label:"Approve",icon:"pi pi-fw pi-check",command:()=>this.openApproveDialog(this.currentSelected)},{label:"Reject",icon:"pi pi-fw pi-times",command:()=>this.openRejectDialog(this.currentSelected)}]}assignCurrent(t){this.currentSelected=t}loadPendingApprovals(){this.tableLoadingSpinner=!0,this.pendingApprovals=[{id:"1",date:new Date("2025-01-15"),project:"ERP System",task:"Login Module Development",hours:8,remarks:"Completed user authentication system",status:"Pending",employeeName:"John Smith",employeeEmail:"john@acme.com",submittedDate:new Date("2025-01-15")},{id:"2",date:new Date("2025-01-14"),project:"HR Portal",task:"Employee Management",hours:6,remarks:"Created employee CRUD operations",status:"Pending",employeeName:"Sarah Johnson",employeeEmail:"sarah@acme.com",submittedDate:new Date("2025-01-14")},{id:"3",date:new Date("2025-01-13"),project:"Invoicing",task:"Invoice Generation",hours:4,remarks:"Implemented invoice template system",status:"Pending",employeeName:"Mike Wilson",employeeEmail:"mike@global.com",submittedDate:new Date("2025-01-13")},{id:"4",date:new Date("2025-01-12"),project:"Document Control",task:"File Upload System",hours:7,remarks:"Built secure file upload functionality",status:"Pending",employeeName:"Lisa Brown",employeeEmail:"lisa@techstart.com",submittedDate:new Date("2025-01-12")}],this.tableLoadingSpinner=!1}loadRecentlyApproved(){this.recentlyApproved=[{id:"5",date:new Date("2025-01-11"),project:"ERP System",task:"Database Optimization",hours:5,remarks:"Optimized database queries for better performance",status:"Approved",employeeName:"John Smith",employeeEmail:"john@acme.com",submittedDate:new Date("2025-01-11"),approvedDate:new Date("2025-01-11"),approvedBy:"Supervisor"},{id:"6",date:new Date("2025-01-10"),project:"HR Portal",task:"Timesheet Module",hours:6,remarks:"Developed timesheet tracking system",status:"Approved",employeeName:"Sarah Johnson",employeeEmail:"sarah@acme.com",submittedDate:new Date("2025-01-10"),approvedDate:new Date("2025-01-10"),approvedBy:"Supervisor"}]}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}openApproveDialog(t){this.approveDialog=!0,this.currentSelected=t}openRejectDialog(t){this.rejectDialog=!0,this.currentSelected=t}approve(){const t=this.pendingApprovals.findIndex(i=>i.id===this.currentSelected.id);if(-1!==t){const i={...this.pendingApprovals[t],status:"Approved",approvedDate:new Date,approvedBy:"Supervisor"};this.recentlyApproved.unshift(i),this.pendingApprovals.splice(t,1)}this.approveDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Timesheet entry approved successfully",life:3e3})}reject(){const t=this.pendingApprovals.findIndex(i=>i.id===this.currentSelected.id);-1!==t&&(this.pendingApprovals[t].status="Rejected",this.pendingApprovals.splice(t,1)),this.rejectDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Timesheet entry rejected successfully",life:3e3})}getTotalPendingHours(){return this.pendingApprovals.reduce((t,i)=>t+i.hours,0)}getTotalApprovedHours(){return this.recentlyApproved.reduce((t,i)=>t+i.hours,0)}getTotalTeamHours(){return this.getTotalPendingHours()+this.getTotalApprovedHours()}getStatusSeverity(t){switch(t){case"Approved":return"success";case"Pending":return"warning";case"Rejected":return"danger";default:return"secondary"}}filterByEmployee(){console.log("Filter by employee:",this.selectedEmployee)}filterByPeriod(){console.log("Filter by period:",this.selectedPeriod)}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||o)(e.rXU(g.L),e.rXU(m.bg))}}static{this.\u0275cmp=e.VBU({type:o,selectors:[["app-supervisor-timesheets"]],features:[e.Jv_([m.bg])],decls:77,vars:37,consts:[["pendingTable",""],["approvedTable",""],["menu",""],[1,"card"],[1,"mb-4"],[1,"text-3xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"grid","mb-4"],[1,"col-12","md:col-4"],[1,"flex","align-items-center","gap-3"],[1,"pi","pi-clock","text-4xl","text-orange-500"],[1,"text-lg","font-semibold","text-gray-700","mb-1"],[1,"text-2xl","font-bold","text-orange-600"],[1,"pi","pi-check-circle","text-4xl","text-green-500"],[1,"text-2xl","font-bold","text-green-600"],[1,"pi","pi-users","text-4xl","text-blue-500"],[1,"text-2xl","font-bold","text-blue-600"],["header","Pending Approvals"],["for","employeeFilter",1,"font-medium","text-900","mb-2"],["id","employeeFilter","optionLabel","label","optionValue","value","placeholder","Select employee",1,"w-full",3,"ngModelChange","onChange","options","ngModel"],["for","periodFilter",1,"font-medium","text-900","mb-2"],["id","periodFilter","optionLabel","label","optionValue","value","placeholder","Select period",1,"w-full",3,"ngModelChange","onChange","options","ngModel"],[1,"iAware-loading-table-container",2,"position","relative"],[4,"ngIf"],["responsiveLayout","scroll",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Recently Approved"],["header","Approve Timesheet Entry",3,"visibleChange","visible","modal"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-check-circle","mr-3",2,"font-size","2rem","color","green"],[1,"mb-2"],["class","text-gray-600 mb-0",4,"ngIf"],["pTemplate","footer"],["header","Reject Timesheet Entry",3,"visibleChange","visible","modal"],[1,"pi","pi-times-circle","mr-3",2,"font-size","2rem","color","red"],[1,"flex","flex-wrap","gap-2","align-items-center","justify-content-between"],[1,"p-input-icon-left","w-full","sm:w-20rem","flex-order-1","sm:flex-order-0"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search pending approvals...",1,"w-full",3,"input"],["pSortableColumn","employeeName",1,"white-space-nowrap",2,"width","15%"],["field","employeeName"],["pSortableColumn","date",1,"white-space-nowrap",2,"width","12%"],["field","date"],["pSortableColumn","project",1,"white-space-nowrap",2,"width","15%"],["field","project"],["pSortableColumn","task",1,"white-space-nowrap",2,"width","20%"],["field","task"],["pSortableColumn","hours",1,"white-space-nowrap",2,"width","8%"],["field","hours"],[2,"width","15%"],["pSortableColumn","status",1,"white-space-nowrap",2,"width","10%"],["field","status"],[1,"text-right",2,"width","5%"],[1,"font-semibold"],[3,"value","severity"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","class","p-button-rounded p-button-text p-button-plain ml-3",3,"click",4,"ngIf"],[3,"model","appendTo","popup"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain","ml-3",3,"click"],["pInputText","","type","text","placeholder","Search approved entries...",1,"w-full",3,"input"],["pSortableColumn","approvedDate",1,"white-space-nowrap",2,"width","15%"],["field","approvedDate"],[2,"width","10%"],[1,"text-gray-600","mb-0"],["pButton","","pRipple","","icon","pi pi-times","label","Cancel",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","icon","pi pi-check","label","Approve",1,"p-button-text",3,"onClick"],["pButton","","pRipple","","icon","pi pi-times","label","Reject",1,"p-button-text",3,"onClick"]],template:function(i,n){if(1&i){const l=e.RV6();e.j41(0,"div",3),e.nrm(1,"p-toast"),e.j41(2,"div",4)(3,"h1",5),e.EFF(4,"Supervisor Timesheets"),e.k0s(),e.j41(5,"p",6),e.EFF(6,"Manage team timesheet approvals and monitor work hours"),e.k0s()(),e.j41(7,"div",7)(8,"div",8)(9,"p-card")(10,"div",9),e.nrm(11,"i",10),e.j41(12,"div")(13,"h3",11),e.EFF(14,"Pending Hours"),e.k0s(),e.j41(15,"p",12),e.EFF(16),e.k0s()()()()(),e.j41(17,"div",8)(18,"p-card")(19,"div",9),e.nrm(20,"i",13),e.j41(21,"div")(22,"h3",11),e.EFF(23,"Approved Hours"),e.k0s(),e.j41(24,"p",14),e.EFF(25),e.k0s()()()()(),e.j41(26,"div",8)(27,"p-card")(28,"div",9),e.nrm(29,"i",15),e.j41(30,"div")(31,"h3",11),e.EFF(32,"Team Hours"),e.k0s(),e.j41(33,"p",16),e.EFF(34),e.k0s()()()()()(),e.j41(35,"p-tabView")(36,"p-tabPanel",17)(37,"div",7)(38,"div",8)(39,"label",18),e.EFF(40,"Filter by Employee"),e.k0s(),e.j41(41,"p-dropdown",19),e.mxI("ngModelChange",function(s){return e.eBV(l),e.DH7(n.selectedEmployee,s)||(n.selectedEmployee=s),e.Njj(s)}),e.bIt("onChange",function(){return e.eBV(l),e.Njj(n.filterByEmployee())}),e.k0s()(),e.j41(42,"div",8)(43,"label",20),e.EFF(44,"Filter by Period"),e.k0s(),e.j41(45,"p-dropdown",21),e.mxI("ngModelChange",function(s){return e.eBV(l),e.DH7(n.selectedPeriod,s)||(n.selectedPeriod=s),e.Njj(s)}),e.bIt("onChange",function(){return e.eBV(l),e.Njj(n.filterByPeriod())}),e.k0s()()(),e.j41(46,"div",22),e.DNE(47,Re,1,0,"app-table-loading-spinner",23),e.j41(48,"p-table",24,0),e.DNE(50,Pe,4,0,"ng-template",25)(51,Ie,22,0,"ng-template",26)(52,Ae,20,15,"ng-template",27),e.k0s()()(),e.j41(53,"p-tabPanel",28)(54,"div",22),e.DNE(55,Ne,1,0,"app-table-loading-spinner",23),e.j41(56,"p-table",24,1),e.DNE(58,Ge,4,0,"ng-template",25)(59,Ve,21,0,"ng-template",26)(60,Je,17,13,"ng-template",27),e.k0s()()()()(),e.j41(61,"p-dialog",29),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.approveDialog,s)||(n.approveDialog=s),e.Njj(s)}),e.j41(62,"div",30),e.nrm(63,"i",31),e.j41(64,"div")(65,"h4",32),e.EFF(66,"Approve this timesheet entry?"),e.k0s(),e.DNE(67,Be,4,3,"p",33),e.k0s()(),e.DNE(68,$e,2,0,"ng-template",34),e.k0s(),e.j41(69,"p-dialog",35),e.mxI("visibleChange",function(s){return e.eBV(l),e.DH7(n.rejectDialog,s)||(n.rejectDialog=s),e.Njj(s)}),e.j41(70,"div",30),e.nrm(71,"i",36),e.j41(72,"div")(73,"h4",32),e.EFF(74,"Reject this timesheet entry?"),e.k0s(),e.DNE(75,Ue,4,3,"p",33),e.k0s()(),e.DNE(76,Xe,2,0,"ng-template",34),e.k0s()}2&i&&(e.R7$(16),e.SpI("",n.getTotalPendingHours(),"h"),e.R7$(9),e.SpI("",n.getTotalApprovedHours(),"h"),e.R7$(9),e.SpI("",n.getTotalTeamHours(),"h"),e.R7$(7),e.Y8G("options",n.employeeOptions),e.R50("ngModel",n.selectedEmployee),e.R7$(4),e.Y8G("options",n.periodOptions),e.R50("ngModel",n.selectedPeriod),e.R7$(2),e.Y8G("ngIf",n.tableLoadingSpinner),e.R7$(),e.Y8G("value",n.pendingApprovals)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(31,O))("globalFilterFields",e.lJ4(32,Ee)),e.R7$(7),e.Y8G("ngIf",n.tableLoadingSpinner),e.R7$(),e.Y8G("value",n.recentlyApproved)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",e.lJ4(33,O))("globalFilterFields",e.lJ4(34,Me)),e.R7$(5),e.Aen(e.lJ4(35,A)),e.R50("visible",n.approveDialog),e.Y8G("modal",!0),e.R7$(6),e.Y8G("ngIf",n.currentSelected),e.R7$(2),e.Aen(e.lJ4(36,A)),e.R50("visible",n.rejectDialog),e.Y8G("modal",!0),e.R7$(6),e.Y8G("ngIf",n.currentSelected))},dependencies:[m.Ei,d.XI,d.Tg,d.yc,a.BC,a.vS,u._f,j.ms,F.l,_.y8,h.bT,k.JQ,k.Kp,f.n,b.S,x.Z,C.W1,v.v,T.ZP,y.j,h.vh]})}}return o})(),data:{breadcrumb:"supervisorTimesheets"}},{path:"contract",component:le,data:{breadcrumb:"contract"}}];let Le=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[w.iI.forChild(Ye),w.iI]})}}return o})();var He=c(1516);let We=(()=>{class o{static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275mod=e.$C({type:o})}static{this.\u0275inj=e.G2t({imports:[Le,He.G]})}}return o})()}}]);