"use strict";(self.webpackChunkavalon_ng=self.webpackChunkavalon_ng||[]).push([[195],{8195:(T,u,o)=>{o.r(u),o.d(u,{FinancialsModule:()=>k});var r=o(177),p=o(5836),c=o(9417),l=o(5779),n=o(4438),C=o(5763),d=o(6899),m=o(1141),M=o(9998),P=o(563),b=o(2242),O=o(5144),h=o(935),_=o(3631);const f=()=>[10,25,50],I=()=>["invoiceNumber","clientName","description","status"];function F(t,s){1&t&&n.nrm(0,"app-table-loading-spinner")}function D(t,s){if(1&t){const e=n.RV6();n.j41(0,"div",22)(1,"span",23),n.nrm(2,"i",24),n.j41(3,"input",25),n.bIt("input",function(a){n.eBV(e);const v=n.XpG(),g=n.sdS(41);return n.Njj(v.onGlobalFilter(g,a))}),n.k0s()(),n.j41(4,"p-button",26),n.bIt("onClick",function(){n.eBV(e);const a=n.XpG();return n.Njj(a.navigateToCreateInvoice())}),n.k0s()()}}function x(t,s){1&t&&(n.j41(0,"tr")(1,"th",27),n.EFF(2," Invoice #"),n.nrm(3,"p-sortIcon",28),n.k0s(),n.j41(4,"th",29),n.EFF(5," Client"),n.nrm(6,"p-sortIcon",30),n.k0s(),n.j41(7,"th",31),n.EFF(8," Description"),n.nrm(9,"p-sortIcon",32),n.k0s(),n.j41(10,"th",33),n.EFF(11," Amount"),n.nrm(12,"p-sortIcon",34),n.k0s(),n.j41(13,"th",35),n.EFF(14," Status"),n.nrm(15,"p-sortIcon",36),n.k0s(),n.nrm(16,"th",37),n.k0s())}function w(t,s){if(1&t){const e=n.RV6();n.j41(0,"button",42),n.bIt("click",function(a){n.eBV(e);const v=n.XpG().$implicit,g=n.sdS(15),E=n.XpG();return g.toggle(a),n.Njj(E.assignCurrentInvoice(v))}),n.k0s()}}function N(t,s){if(1&t&&(n.j41(0,"tr")(1,"td",38),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td"),n.EFF(6),n.k0s(),n.j41(7,"td",38),n.EFF(8),n.nI1(9,"currency"),n.k0s(),n.j41(10,"td"),n.nrm(11,"p-tag",39),n.k0s(),n.j41(12,"td"),n.DNE(13,w,1,0,"button",40),n.nrm(14,"p-menu",41,1),n.k0s()()),2&t){const e=s.$implicit,i=n.XpG();n.R7$(2),n.JRh(e.invoiceNumber),n.R7$(2),n.JRh(e.clientName),n.R7$(2),n.JRh(e.description),n.R7$(2),n.JRh(n.ii3(9,10,e.amount,"USD","symbol","1.2-2")),n.R7$(3),n.Y8G("value",e.status)("severity",i.getStatusSeverity(e.status)),n.R7$(2),n.Y8G("ngIf",i.invoiceMenuItems.length>0),n.R7$(),n.Y8G("model",i.invoiceMenuItems)("appendTo","body")("popup",!0)}}const j=[{path:"",component:(()=>{class t{constructor(e,i){this.translate=e,this.messageService=i,this.invoices=[],this.invoiceMenuItems=[],this.currentSelectedInvoice={id:"",invoiceNumber:"",clientName:"",description:"",amount:0,status:""},this.invoiceDialog=!1,this.deleteInvoiceDialog=!1,this.tableLoadingSpinner=!1,this.statusOptions=[{label:"Paid",value:"Paid"},{label:"Pending",value:"Pending"},{label:"Overdue",value:"Overdue"},{label:"Draft",value:"Draft"},{label:"Cancelled",value:"Cancelled"}]}ngOnInit(){this.buildInvoiceMenuItems(),this.initiateInvoiceForm(),this.loadInvoices()}buildInvoiceMenuItems(){this.invoiceMenuItems=[{label:this.translate.getInstant("shared.actions.edit"),icon:"pi pi-fw pi-pencil",command:()=>this.openInvoiceEditDialog(this.currentSelectedInvoice)},{label:this.translate.getInstant("shared.actions.delete"),icon:"pi pi-fw pi-trash",command:()=>this.openInvoiceDeleteDialog(this.currentSelectedInvoice)}]}assignCurrentInvoice(e){this.currentSelectedInvoice=e}loadInvoices(){this.tableLoadingSpinner=!0,this.invoices=[{id:"1",invoiceNumber:"#INV-2024-001",clientName:"Acme Corporation",description:"Software Development Services",amount:5250,status:"Paid",dueDate:"2024-02-15",createdDate:"2024-01-15",paidDate:"2024-01-20"},{id:"2",invoiceNumber:"#INV-2024-002",clientName:"Tech Solutions Ltd",description:"Consulting Services",amount:3800,status:"Pending",dueDate:"2024-02-18",createdDate:"2024-01-18"},{id:"3",invoiceNumber:"#INV-2024-003",clientName:"Global Enterprises",description:"Project Management",amount:7200,status:"Overdue",dueDate:"2024-01-20",createdDate:"2024-01-20"},{id:"4",invoiceNumber:"#INV-2024-004",clientName:"Startup Inc",description:"Web Development",amount:4500,status:"Paid",dueDate:"2024-02-10",createdDate:"2024-01-10",paidDate:"2024-01-12"},{id:"5",invoiceNumber:"#INV-2024-005",clientName:"Manufacturing Co",description:"System Integration",amount:8900,status:"Draft",dueDate:"2024-03-01",createdDate:"2024-01-25"}],this.tableLoadingSpinner=!1}onGlobalFilter(e,i){e.filterGlobal(i.target.value,"contains")}navigateToCreateInvoice(){this.invoiceDialog=!0,this.invoiceForm.reset()}openInvoiceEditDialog(e){this.invoiceDialog=!0,this.currentSelectedInvoice=e,this.invoiceForm.patchValue({invoiceNumber:e.invoiceNumber,clientName:e.clientName,description:e.description,amount:e.amount,status:e.status,dueDate:e.dueDate,createdDate:e.createdDate,paidDate:e.paidDate})}openInvoiceDeleteDialog(e){this.deleteInvoiceDialog=!0,this.currentSelectedInvoice=e}hideInvoiceDialog(){this.invoiceDialog=!1}saveInvoice(){if(this.invoiceForm.valid){if(this.currentSelectedInvoice.id){const e=this.invoices.findIndex(i=>i.id===this.currentSelectedInvoice.id);-1!==e&&(this.invoices[e]={...this.invoices[e],invoiceNumber:this.invoiceForm.value.invoiceNumber,clientName:this.invoiceForm.value.clientName,description:this.invoiceForm.value.description,amount:this.invoiceForm.value.amount,status:this.invoiceForm.value.status,dueDate:this.invoiceForm.value.dueDate,createdDate:this.invoiceForm.value.createdDate,paidDate:this.invoiceForm.value.paidDate})}else{const e={id:(this.invoices.length+1).toString(),invoiceNumber:this.invoiceForm.value.invoiceNumber,clientName:this.invoiceForm.value.clientName,description:this.invoiceForm.value.description,amount:this.invoiceForm.value.amount,status:this.invoiceForm.value.status,dueDate:this.invoiceForm.value.dueDate,createdDate:this.invoiceForm.value.createdDate,paidDate:this.invoiceForm.value.paidDate};this.invoices.push(e)}this.hideInvoiceDialog(),this.messageService.add({severity:"success",summary:"Success",detail:"Invoice saved successfully",life:3e3})}}deleteInvoice(){const e=this.invoices.findIndex(i=>i.id===this.currentSelectedInvoice.id);-1!==e&&this.invoices.splice(e,1),this.deleteInvoiceDialog=!1,this.messageService.add({severity:"success",summary:"Success",detail:"Invoice deleted successfully",life:3e3})}initiateInvoiceForm(){this.invoiceForm=new c.gE({invoiceNumber:new c.MJ("",[c.k0.required]),clientName:new c.MJ("",[c.k0.required]),description:new c.MJ("",[c.k0.required]),amount:new c.MJ(0,[c.k0.required,c.k0.min(.01)]),status:new c.MJ("Draft",[c.k0.required]),dueDate:new c.MJ(""),createdDate:new c.MJ(""),paidDate:new c.MJ("")})}getStatusSeverity(e){switch(e){case"Paid":return"success";case"Pending":return"warning";case"Overdue":return"danger";case"Draft":return"info";default:return"secondary"}}ngOnDestroy(){}static{this.\u0275fac=function(i){return new(i||t)(n.rXU(C.L),n.rXU(l.bg))}}static{this.\u0275cmp=n.VBU({type:t,selectors:[["app-invoices"]],features:[n.Jv_([l.bg])],decls:45,vars:9,consts:[["invoiceTable",""],["invoiceMenu",""],[1,"card"],[1,"mb-4"],[1,"text-3xl","font-bold","mb-2"],[1,"text-gray-600"],[1,"grid","mb-4"],[1,"col-12","md:col-4"],[1,"surface-card","border-round","p-4"],[1,"flex","align-items-center"],[1,"mr-3"],[1,"pi","pi-dollar","text-2xl","text-green-500"],[1,"text-500","text-sm"],[1,"text-2xl","font-bold","text-900"],[1,"pi","pi-file","text-2xl","text-orange-500"],[1,"pi","pi-check-circle","text-2xl","text-blue-500"],[1,"iAware-loading-table-container",2,"position","relative"],[4,"ngIf"],["responsiveLayout","scroll",3,"value","paginator","rows","showCurrentPageReport","rowsPerPageOptions","globalFilterFields"],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],[1,"flex","flex-wrap","gap-2","align-items-center","justify-content-between"],[1,"p-input-icon-left","w-full","sm:w-20rem","flex-order-1","sm:flex-order-0"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search invoices...",1,"w-full",3,"input"],["icon","pi pi-plus","label","Create Invoice",1,"p-button-outlined","w-full","sm:w-auto","flex-order-0","sm:flex-order-1",3,"onClick"],["pSortableColumn","invoiceNumber",1,"white-space-nowrap",2,"width","20%"],["field","invoiceNumber"],["pSortableColumn","clientName",1,"white-space-nowrap",2,"width","25%"],["field","clientName"],["pSortableColumn","description",1,"white-space-nowrap",2,"width","25%"],["field","description"],["pSortableColumn","amount",1,"white-space-nowrap",2,"width","15%"],["field","amount"],["pSortableColumn","status",1,"white-space-nowrap",2,"width","10%"],["field","status"],[1,"text-right",2,"width","5%"],[1,"font-semibold"],[3,"value","severity"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v","class","p-button-rounded p-button-text p-button-plain ml-3",3,"click",4,"ngIf"],[3,"model","appendTo","popup"],["pButton","","pRipple","","type","button","icon","pi pi-ellipsis-v",1,"p-button-rounded","p-button-text","p-button-plain","ml-3",3,"click"]],template:function(i,a){1&i&&(n.j41(0,"div",2),n.nrm(1,"p-toast"),n.j41(2,"div",3)(3,"h1",4),n.EFF(4,"Invoice Management"),n.k0s(),n.j41(5,"p",5),n.EFF(6,"Manage financial invoices and billing"),n.k0s()(),n.j41(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),n.nrm(12,"i",11),n.k0s(),n.j41(13,"div")(14,"span",12),n.EFF(15,"Total Revenue"),n.k0s(),n.j41(16,"div",13),n.EFF(17,"$125,430"),n.k0s()()()()(),n.j41(18,"div",7)(19,"div",8)(20,"div",9)(21,"div",10),n.nrm(22,"i",14),n.k0s(),n.j41(23,"div")(24,"span",12),n.EFF(25,"Pending Invoices"),n.k0s(),n.j41(26,"div",13),n.EFF(27,"23"),n.k0s()()()()(),n.j41(28,"div",7)(29,"div",8)(30,"div",9)(31,"div",10),n.nrm(32,"i",15),n.k0s(),n.j41(33,"div")(34,"span",12),n.EFF(35,"Paid This Month"),n.k0s(),n.j41(36,"div",13),n.EFF(37,"45"),n.k0s()()()()()(),n.j41(38,"div",16),n.DNE(39,F,1,0,"app-table-loading-spinner",17),n.j41(40,"p-table",18,0),n.DNE(42,D,5,0,"ng-template",19)(43,x,17,0,"ng-template",20)(44,N,16,15,"ng-template",21),n.k0s()()()),2&i&&(n.R7$(39),n.Y8G("ngIf",a.tableLoadingSpinner),n.R7$(),n.Y8G("value",a.invoices)("paginator",!0)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",n.lJ4(7,f))("globalFilterFields",n.lJ4(8,I)))},dependencies:[r.bT,l.Ei,d.XI,d.Tg,d.yc,m._f,m.$n,M.y8,P.n,b.S,O.W1,h.v,_.j,r.oe],styles:[".invoices-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.invoices-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:2rem}.invoices-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.5rem}.invoices-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .page-description[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1.1rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoice-stats[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoice-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:8px;padding:2rem;box-shadow:0 2px 10px #0000001a;display:flex;align-items:center;gap:1.5rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoice-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{font-size:3rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoice-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#7f8c8d;font-size:1rem;margin-bottom:.5rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoice-stats[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-info[_ngcontent-%COMP%]   .stat-number[_ngcontent-%COMP%]{color:#2c3e50;font-size:2.5rem;font-weight:700}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{padding:2rem;border-bottom:1px solid #ecf0f1;display:flex;justify-content:space-between;align-items:center}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;margin:0}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border:none;border-radius:6px;font-weight:600;cursor:pointer;transition:all .3s ease}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:#3498db;color:#fff}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:#2980b9}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]{padding:1.5rem 2rem;border-bottom:1px solid #ecf0f1;display:grid;grid-template-columns:1fr 2fr 1fr 1fr;gap:1rem;align-items:center}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.25rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   .invoice-id[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-number[_ngcontent-%COMP%]   .invoice-date[_ngcontent-%COMP%]{color:#7f8c8d;font-size:.9rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.25rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .client-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#7f8c8d;margin:0;font-size:.9rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-amount[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{color:#27ae60;font-weight:700;font-size:1.2rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-status[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:20px;font-weight:600;font-size:.9rem}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-status[_ngcontent-%COMP%]   .status.paid[_ngcontent-%COMP%]{background:#d5f4e6;color:#27ae60}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-status[_ngcontent-%COMP%]   .status.pending[_ngcontent-%COMP%]{background:#fef9e7;color:#f39c12}.invoices-container[_ngcontent-%COMP%]   .invoices-content[_ngcontent-%COMP%]   .invoices-table[_ngcontent-%COMP%]   .table-content[_ngcontent-%COMP%]   .invoice-row[_ngcontent-%COMP%]   .invoice-status[_ngcontent-%COMP%]   .status.overdue[_ngcontent-%COMP%]{background:#fadbd8;color:#e74c3c}"]})}}return t})(),data:{breadcrumb:"invoices"}}];let y=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[p.iI.forChild(j),p.iI]})}}return t})();var S=o(1516);let k=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=n.$C({type:t})}static{this.\u0275inj=n.G2t({imports:[r.MD,y,S.G]})}}return t})()}}]);