<div class="body">
  <div class="gradient-bg">
    <h2 class="fw-bold title">Verify Code</h2>
    <div class="subtitle">
      Enter the 5-digit code sent to your email.
    </div>
    <form [formGroup]="form" (ngSubmit)="verifyCode()">
      <div class="form-group">
        <div class="input-group justify-content-center">
         <input type="text" class="form-control custom-input" id="code1" maxlength="1" formControlName="code1"
            (keyup)="moveToNext($event, 'code2')" />
          <input type="text" class="form-control custom-input" id="code2" maxlength="1" formControlName="code2"
            (keyup)="moveToNext($event, 'code3')" (keydown.backspace)="moveToPrev($event, 'code1')" />
          <input type="text" class="form-control custom-input" id="code3" maxlength="1" formControlName="code3"
            (keyup)="moveToNext($event, 'code4')" (keydown.backspace)="moveToPrev($event, 'code2')" />
          <input type="text" class="form-control custom-input" id="code4" maxlength="1" formControlName="code4"
            (keyup)="moveToNext($event, 'code5')" (keydown.backspace)="moveToPrev($event, 'code3')" />
          <input type="text" class="form-control custom-input" id="code5" maxlength="1" formControlName="code5"
            (keydown.backspace)="moveToPrev($event, 'code4')" />
        </div>
      </div>
      <div *ngIf="validationMessage" class="backend-error-message">
        <i class="pi pi-exclamation-circle" style="margin-right: 10px;"></i>
        <span>
          {{validationMessage}}
        </span>
      </div>
      <div class="flex align-items-center justify-content-center mt-4 gap-3">
        <button class="verify-btn" type="submit" [disabled]="form.invalid">
          <ng-container *ngIf="isLoading$ | async">
            <span class="indicator-progress" [style.display]="'block'">
              {{ 'auth.login.pleaseWait' | translate }}
              <i class="pi pi-spin pi-spinner" style="font-size: 1rem"></i>
            </span>
          </ng-container>
          <ng-container *ngIf="(isLoading$ | async) === false">
            <span>{{ 'Verify' | translate }}</span>
          </ng-container>
        </button>
      </div>
    </form>
  </div>
</div> 