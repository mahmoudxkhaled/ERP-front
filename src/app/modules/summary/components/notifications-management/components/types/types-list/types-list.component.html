<div class="card">
    <div class="flex justify-content-between align-items-center mb-4">
        <h3>Notification Types</h3>
    </div>

    <div style="position: relative;">
        <app-table-loading-spinner *ngIf="tableLoadingSpinner"></app-table-loading-spinner>
        <p-table #typesTable [value]="types" [paginator]="false" responsiveLayout="scroll"
            [loading]="!!(isLoading$ | async)">

            <ng-template pTemplate="header">
                <tr>
                    <th>ID</th>
                    <th style="width: 200px;">Title</th>
                    <th style="width: 300px;">Description</th>
                    <th style="width: 150px;">Urgency</th>
                    <th style="width: 250px;">Example</th>
                </tr>
            </ng-template>

            <ng-template pTemplate="body" let-type>
                <tr>
                    <td>
                        <p-tag [value]="'#' + type.id" severity="info"></p-tag>
                    </td>
                    <td>
                        <span class="font-semibold">{{ type.name }}</span>
                    </td>
                    <td>
                        <span class="text-600">{{ type.nameRegional || 'No description' }}</span>
                    </td>
                    <td>
                        <p-tag [value]="type.urgency || 'N/A'" [severity]="getUrgencySeverity(type.urgency)"></p-tag>
                    </td>
                    <td>
                        <span class="text-600 font-italic">{{ type.example || 'No example' }}</span>
                    </td>
                </tr>
            </ng-template>

            <ng-template pTemplate="emptymessage">
                <tr>
                    <td colspan="5" class="text-center">No notification types found</td>
                </tr>
            </ng-template>
        </p-table>
    </div>
</div>

<p-toast></p-toast>