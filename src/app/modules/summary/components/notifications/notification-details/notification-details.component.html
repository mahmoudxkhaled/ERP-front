<div class="card">
    <div class="flex justify-content-between align-items-center mb-4">
        <h2>Notification Details</h2>
        <div class="flex gap-2">
            <p-button *ngIf="notification" label="Send" icon="pi pi-send" (onClick)="sendNotification()"></p-button>
            <p-button label="Back" icon="pi pi-arrow-left" class="p-button-secondary" (onClick)="navigateBack()"></p-button>
        </div>
    </div>

    <div *ngIf="loading" class="flex justify-content-center align-items-center" style="min-height: 200px;">
        <p-progressSpinner></p-progressSpinner>
    </div>

    <div *ngIf="!loading && notification" class="grid">
        <div class="col-12">
            <p-panel header="Basic Information">
                <div class="grid">
                    <div class="col-12 md:col-6">
                        <div class="field">
                            <label class="font-semibold">Notification ID</label>
                            <p>{{ notification.id }}</p>
                        </div>
                    </div>
                    <div class="col-12 md:col-6">
                        <div class="field">
                            <label class="font-semibold">Type</label>
                            <p-tag [value]="notification.isSystemNotification ? 'System' : 'Entity'" 
                                [severity]="notification.isSystemNotification ? 'info' : 'warning'">
                            </p-tag>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="field">
                            <label class="font-semibold">Title</label>
                            <p>{{ notification.title }}</p>
                        </div>
                    </div>
                    <div class="col-12">
                        <div class="field">
                            <label class="font-semibold">Message</label>
                            <p>{{ notification.message }}</p>
                        </div>
                    </div>
                    <div class="col-12 md:col-6" *ngIf="notification.referenceType">
                        <div class="field">
                            <label class="font-semibold">Reference Type</label>
                            <p-tag [value]="notification.referenceType" severity="info"></p-tag>
                        </div>
                    </div>
                    <div class="col-12 md:col-6" *ngIf="notification.referenceId">
                        <div class="field">
                            <label class="font-semibold">Reference ID</label>
                            <p>{{ notification.referenceId }}</p>
                        </div>
                    </div>
                    <div class="col-12 md:col-6" *ngIf="notification.createdAt">
                        <div class="field">
                            <label class="font-semibold">Created At</label>
                            <p>{{ notification.createdAt | date: 'short' }}</p>
                        </div>
                    </div>
                </div>
            </p-panel>
        </div>
    </div>
</div>

<p-toast></p-toast>
