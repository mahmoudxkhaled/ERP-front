<div class="company-storage-view card">
    <header class="storage-page-header">
        <a routerLink="/document-control/storage-content-management" class="storage-back-link">
            <i class="pi pi-arrow-left"></i>
            <span>{{ 'fileSystem.backToHome' | translate }}</span>
        </a>
        <h1 class="storage-page-title">{{ 'fileSystem.companyStorageView.title' | translate }}</h1>
    </header>

    <section class="storage-selector-panel">
        <p class="storage-selector-description">{{ 'fileSystem.companyStorageView.description' | translate }}</p>
        <div class="storage-selector-fields">
            <div class="storage-field">
                <label>{{ 'fileSystem.companyStorageView.selectDrive' | translate }}</label>
                <p-dropdown [options]="entityDriveOptions" [(ngModel)]="selectedDriveId" optionLabel="name"
                    optionValue="id" [style]="{ width: '100%' }" [disabled]="loadingDrives"
                    [placeholder]="loadingDrives ? ('fileSystem.companyStorage.loading' | translate) : ('fileSystem.companyStorageView.selectDrive' | translate)"
                    (onChange)="onDriveSelected()"></p-dropdown>
            </div>
            <div class="storage-field">
                <label>{{ 'fileSystem.companyStorageView.selectFileSystem' | translate }}</label>
                <p-dropdown [options]="fileSystemOptionsInDrive" [(ngModel)]="selectedFileSystemId" optionLabel="name"
                    optionValue="id" [style]="{ width: '100%' }"
                    [disabled]="!selectedDriveId || loadingFileSystemsInDrive"
                    [placeholder]="loadingFileSystemsInDrive ? ('fileSystem.companyStorage.loading' | translate) : ('fileSystem.companyStorageView.selectFileSystem' | translate)"
                    (onChange)="onFileSystemSelected()"></p-dropdown>
            </div>
        </div>
    </section>

    <div class="storage-empty-state" *ngIf="!selectedFileSystemId">
        <i class="pi pi-inbox storage-empty-icon"></i>
        <p class="storage-empty-text">{{ 'fileSystem.companyStorageView.selectDriveAndFileSystem' | translate }}</p>
    </div>

    <!-- Folder Management Component -->
    <app-folder-management *ngIf="selectedFileSystemId" [fileSystemId]="selectedFileSystemId"></app-folder-management>
</div>